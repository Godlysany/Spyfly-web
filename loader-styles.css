/* Stunning Loader Animation Styles */
.loader-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background: linear-gradient(135deg, #001213, #000);
    z-index: 10000;
    display: flex;
    align-items: center;
    justify-content: center;
    opacity: 1;
    transition: opacity 0.8s ease-out;
}

.loader-overlay.fade-out {
    opacity: 0;
    pointer-events: none;
}

.loader-container {
    position: relative;
    width: 200px;
    height: 200px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.loader-icon {
    position: relative;
    width: 120px;
    height: 120px;
    animation: iconSpin 2s ease-in-out;
    transform-origin: center;
}

.loader-image {
    width: 100%;
    height: 100%;
    object-fit: contain;
    filter: drop-shadow(0 0 20px rgba(45, 212, 127, 0.6));
}

.loader-glow {
    position: absolute;
    top: -20px;
    left: -20px;
    right: -20px;
    bottom: -20px;
    background: radial-gradient(circle, rgba(45, 212, 127, 0.3) 0%, transparent 70%);
    border-radius: 50%;
    animation: pulse 2s ease-in-out infinite;
}

.impact-rings {
    position: absolute;
    width: 100%;
    height: 100%;
    pointer-events: none;
}

.ring {
    position: absolute;
    border: 2px solid transparent;
    border-radius: 50%;
    opacity: 0;
}

.ring-1 {
    width: 160px;
    height: 160px;
    top: -20px;
    left: -20px;
    border-color: rgba(153, 69, 255, 0.8);
    animation: ringExplosion 0.6s ease-out 2s forwards;
}

.ring-2 {
    width: 220px;
    height: 220px;
    top: -50px;
    left: -50px;
    border-color: rgba(45, 212, 127, 0.6);
    animation: ringExplosion 0.8s ease-out 2.2s forwards;
}

.ring-3 {
    width: 300px;
    height: 300px;
    top: -80px;
    left: -80px;
    border-color: rgba(153, 69, 255, 0.4);
    animation: ringExplosion 1s ease-out 2.4s forwards;
}

.crack-effect {
    position: absolute;
    width: 100vw;
    height: 100vh;
    top: -50vh;
    left: -50vw;
    opacity: 0;
    background: 
        linear-gradient(45deg, transparent 40%, rgba(255,255,255,0.1) 41%, rgba(255,255,255,0.1) 43%, transparent 44%),
        linear-gradient(-45deg, transparent 40%, rgba(255,255,255,0.1) 41%, rgba(255,255,255,0.1) 43%, transparent 44%),
        linear-gradient(135deg, transparent 30%, rgba(45, 212, 127, 0.2) 31%, rgba(45, 212, 127, 0.2) 33%, transparent 34%);
    animation: crackEffect 0.4s ease-out 2.6s forwards;
    pointer-events: none;
}

.screen-shatter {
    position: absolute;
    width: 100vw;
    height: 100vh;
    top: -50vh;
    left: -50vw;
    pointer-events: none;
}

.shard {
    position: absolute;
    background: linear-gradient(135deg, rgba(153, 69, 255, 0.3), rgba(45, 212, 127, 0.2));
    opacity: 0;
    transform: scale(0);
}

.shard-1 {
    width: 200px;
    height: 100px;
    top: 20%;
    left: 10%;
    clip-path: polygon(0 0, 100% 30%, 80% 100%, 20% 80%);
    animation: shardExplode 0.8s ease-out 2.8s forwards;
}

.shard-2 {
    width: 150px;
    height: 150px;
    top: 40%;
    right: 15%;
    clip-path: polygon(50% 0, 100% 50%, 50% 100%, 0 50%);
    animation: shardExplode 0.9s ease-out 2.9s forwards;
}

.shard-3 {
    width: 180px;
    height: 120px;
    bottom: 30%;
    left: 20%;
    clip-path: polygon(0 0, 60% 0, 100% 100%, 40% 100%);
    animation: shardExplode 1s ease-out 3s forwards;
}

.shard-4 {
    width: 120px;
    height: 200px;
    top: 10%;
    right: 30%;
    clip-path: polygon(30% 0, 100% 0, 70% 100%, 0 100%);
    animation: shardExplode 0.7s ease-out 2.7s forwards;
}

.shard-5 {
    width: 160px;
    height: 80px;
    bottom: 15%;
    right: 25%;
    clip-path: polygon(0 20%, 80% 0, 100% 80%, 20% 100%);
    animation: shardExplode 1.1s ease-out 3.1s forwards;
}

.shard-6 {
    width: 100px;
    height: 180px;
    top: 60%;
    left: 5%;
    clip-path: polygon(0 0, 100% 20%, 80% 100%, 20% 80%);
    animation: shardExplode 0.6s ease-out 2.5s forwards;
}

/* Keyframe Animations */
@keyframes iconSpin {
    0% {
        transform: scale(0.3) rotate(0deg);
        filter: blur(20px);
    }
    50% {
        transform: scale(0.7) rotate(180deg);
        filter: blur(5px);
    }
    100% {
        transform: scale(1) rotate(360deg);
        filter: blur(0px);
    }
}

@keyframes pulse {
    0%, 100% {
        transform: scale(0.8);
        opacity: 0.5;
    }
    50% {
        transform: scale(1.2);
        opacity: 0.8;
    }
}

@keyframes ringExplosion {
    0% {
        transform: scale(0.5);
        opacity: 0;
        border-width: 4px;
    }
    50% {
        opacity: 1;
        border-width: 2px;
    }
    100% {
        transform: scale(2);
        opacity: 0;
        border-width: 1px;
    }
}

@keyframes crackEffect {
    0% {
        opacity: 0;
        transform: scale(0.1);
    }
    30% {
        opacity: 1;
        transform: scale(1);
    }
    100% {
        opacity: 0;
        transform: scale(1.5);
    }
}

@keyframes shardExplode {
    0% {
        opacity: 0;
        transform: scale(0) rotate(0deg);
    }
    30% {
        opacity: 1;
        transform: scale(1) rotate(180deg);
    }
    100% {
        opacity: 0;
        transform: scale(2) rotate(360deg) translate(200px, -200px);
    }
}

/* Screen Flash Effect */
@keyframes screenFlash {
    0% {
        background: linear-gradient(135deg, #001213, #000);
    }
    50% {
        background: linear-gradient(135deg, rgba(45, 212, 127, 0.3), rgba(153, 69, 255, 0.2));
    }
    100% {
        background: linear-gradient(135deg, #001213, #000);
    }
}

.loader-overlay.boom {
    animation: screenFlash 0.3s ease-out 2.6s;
}

/* Note: Fallback handled via HTML onerror attribute */

/* Mobile Optimization */
@media (max-width: 768px) {
    .loader-icon {
        width: 80px;
        height: 80px;
    }
    
    .shard {
        transform: scale(0.7);
    }
    
    .ring-1 { width: 120px; height: 120px; top: -10px; left: -10px; }
    .ring-2 { width: 160px; height: 160px; top: -30px; left: -30px; }
    .ring-3 { width: 200px; height: 200px; top: -50px; left: -50px; }
}

/* Hide main content during loading */
.loading .main-content {
    opacity: 0;
    pointer-events: none;
}

.main-content {
    opacity: 1;
    transition: opacity 0.8s ease-in-out;
}

/* Prevent scroll and lock focus during loading */
body.loading {
    overflow: hidden;
    height: 100vh;
}

.loading .main-content {
    pointer-events: none;
}